{"ast":null,"code":"import { TOGGLE_TODO, LOGIN_SUCCESS, INVALID_LOGIN, LOGIN_NETWORK_ERROR, POPULATE_TODOS, COMPLETE_ONBOARDING, LOGOUT, PREFERENCE } from \"./actionConstants\";\nimport { login, getTodosForUser, toggleTodoForUser, addTodoForUser, userCompletedOnboarding } from \"../data/data\";\nimport store from \"./store\";\nexport const loginSuccess = user => ({\n  type: LOGIN_SUCCESS,\n  payload: {\n    user\n  }\n});\nexport const loginFail = () => ({\n  type: INVALID_LOGIN\n});\nexport const loginNetworkError = () => ({\n  type: LOGIN_NETWORK_ERROR\n});\n/** The following actions get/update mock data and would have to be refactored\n * if/when the data source is changed.\n */\n// Eventually this action creator would be re-written to connect to a real data source\n\nexport const validateUser = (username, password) => {\n  let user = login(username, password);\n  if (user.id) return loginSuccess(user);else return loginFail(); // No case for a network error yet\n}; // Note for future: need to handle error from data source\n\nexport const getUserPreferences = () => {\n  // Gets the current user from the store. Note the store import above.\n  const userId = store.getState().user.search;\n  return {\n    type: POPULATE_SEARCH,\n    payload: {\n      todos: getTodosForUser(userId)\n    }\n  };\n};\nexport const toggleTodo = id => {\n  // Gets the current user from the store. Note the store import above.\n  const userId = store.getState().user.id;\n  const updatedTodo = toggleTodoForUser(userId, id);\n  return {\n    type: TOGGLE_TODO,\n    payload: {\n      id: updatedTodo\n    }\n  };\n};\nexport const addTodo = text => {\n  // Gets the current user from the store. Note the store import above.\n  const userId = store.getState().user.id;\n  const updatedTodos = addTodoForUser(userId, text);\n  return {\n    type: POPULATE_TODOS,\n    // Can reuse an action type if it fits\n    payload: {\n      todos: updatedTodos\n    }\n  };\n};\nexport const completeOnboarding = () => {\n  // Gets the current user from the store. Note the store import above.\n  const userId = store.getState().user.id;\n  userCompletedOnboarding(userId);\n  return {\n    type: COMPLETE_ONBOARDING\n  };\n};\nexport const logout = () => ({\n  type: LOGOUT\n});\nexport const setPreference = () => ({\n  type: PREFERENCE\n});","map":{"version":3,"sources":["/Users/shebthebat/Documents/NEU/Sem 5/CS 7580/shebna_mathew_assignment4/src/redux/actions.js"],"names":["TOGGLE_TODO","LOGIN_SUCCESS","INVALID_LOGIN","LOGIN_NETWORK_ERROR","POPULATE_TODOS","COMPLETE_ONBOARDING","LOGOUT","PREFERENCE","login","getTodosForUser","toggleTodoForUser","addTodoForUser","userCompletedOnboarding","store","loginSuccess","user","type","payload","loginFail","loginNetworkError","validateUser","username","password","id","getUserPreferences","userId","getState","search","POPULATE_SEARCH","todos","toggleTodo","updatedTodo","addTodo","text","updatedTodos","completeOnboarding","logout","setPreference"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,aAArB,EAAoCC,aAApC,EAAmDC,mBAAnD,EACIC,cADJ,EACoBC,mBADpB,EACyCC,MADzC,EACiDC,UADjD,QACkE,mBADlE;AAEA,SAAQC,KAAR,EAAeC,eAAf,EAAgCC,iBAAhC,EAAmDC,cAAnD,EAAmEC,uBAAnE,QAAiG,cAAjG;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,OAAO,MAAMC,YAAY,GAAGC,IAAI,KAAK;AACjCC,EAAAA,IAAI,EAAEf,aAD2B;AAEjCgB,EAAAA,OAAO,EAAE;AACLF,IAAAA;AADK;AAFwB,CAAL,CAAzB;AAOP,OAAO,MAAMG,SAAS,GAAG,OAAO;AAC5BF,EAAAA,IAAI,EAAEd;AADsB,CAAP,CAAlB;AAIP,OAAO,MAAMiB,iBAAiB,GAAG,OAAO;AACpCH,EAAAA,IAAI,EAAEb;AAD8B,CAAP,CAA1B;AAIP;AACA;AACA;AAEC;;AACD,OAAO,MAAMiB,YAAY,GAAG,CAACC,QAAD,EAAWC,QAAX,KAAwB;AAChD,MAAIP,IAAI,GAAGP,KAAK,CAACa,QAAD,EAAWC,QAAX,CAAhB;AACA,MAAIP,IAAI,CAACQ,EAAT,EACI,OAAOT,YAAY,CAACC,IAAD,CAAnB,CADJ,KAEK,OAAOG,SAAS,EAAhB,CAJ2C,CAKhD;AACH,CANM,C,CAQP;;AACA,OAAO,MAAMM,kBAAkB,GAAG,MAAM;AACpC;AACA,QAAMC,MAAM,GAAGZ,KAAK,CAACa,QAAN,GAAiBX,IAAjB,CAAsBY,MAArC;AACA,SAAO;AACHX,IAAAA,IAAI,EAAEY,eADH;AAEHX,IAAAA,OAAO,EAAE;AACLY,MAAAA,KAAK,EAAEpB,eAAe,CAACgB,MAAD;AADjB;AAFN,GAAP;AAMH,CATM;AAWP,OAAO,MAAMK,UAAU,GAAGP,EAAE,IAAI;AAC5B;AACA,QAAME,MAAM,GAAGZ,KAAK,CAACa,QAAN,GAAiBX,IAAjB,CAAsBQ,EAArC;AACA,QAAMQ,WAAW,GAAGrB,iBAAiB,CAACe,MAAD,EAASF,EAAT,CAArC;AACA,SAAO;AACHP,IAAAA,IAAI,EAAEhB,WADH;AAEHiB,IAAAA,OAAO,EAAE;AACLM,MAAAA,EAAE,EAAEQ;AADC;AAFN,GAAP;AAMH,CAVM;AAYP,OAAO,MAAMC,OAAO,GAAGC,IAAI,IAAI;AAC3B;AACA,QAAMR,MAAM,GAAGZ,KAAK,CAACa,QAAN,GAAiBX,IAAjB,CAAsBQ,EAArC;AACA,QAAMW,YAAY,GAAGvB,cAAc,CAACc,MAAD,EAASQ,IAAT,CAAnC;AACA,SAAO;AACHjB,IAAAA,IAAI,EAAEZ,cADH;AACmB;AACtBa,IAAAA,OAAO,EAAE;AACLY,MAAAA,KAAK,EAAEK;AADF;AAFN,GAAP;AAMH,CAVM;AAYP,OAAO,MAAMC,kBAAkB,GAAG,MAAM;AACpC;AACA,QAAMV,MAAM,GAAGZ,KAAK,CAACa,QAAN,GAAiBX,IAAjB,CAAsBQ,EAArC;AACAX,EAAAA,uBAAuB,CAACa,MAAD,CAAvB;AACA,SAAO;AACHT,IAAAA,IAAI,EAAEX;AADH,GAAP;AAGH,CAPM;AASP,OAAO,MAAM+B,MAAM,GAAG,OAAO;AACzBpB,EAAAA,IAAI,EAAEV;AADmB,CAAP,CAAf;AAIP,OAAO,MAAM+B,aAAa,GAAG,OAAO;AAChCrB,EAAAA,IAAI,EAAET;AAD0B,CAAP,CAAtB","sourcesContent":["import {TOGGLE_TODO, LOGIN_SUCCESS, INVALID_LOGIN, LOGIN_NETWORK_ERROR, \n    POPULATE_TODOS, COMPLETE_ONBOARDING, LOGOUT, PREFERENCE} from \"./actionConstants\";\nimport {login, getTodosForUser, toggleTodoForUser, addTodoForUser, userCompletedOnboarding} from \"../data/data\";\nimport store from \"./store\";\n\nexport const loginSuccess = user => ({\n    type: LOGIN_SUCCESS,\n    payload: {\n        user\n    }\n});\n\nexport const loginFail = () => ({\n    type: INVALID_LOGIN\n});\n\nexport const loginNetworkError = () => ({\n    type: LOGIN_NETWORK_ERROR\n});\n\n/** The following actions get/update mock data and would have to be refactored\n * if/when the data source is changed.\n */\n\n // Eventually this action creator would be re-written to connect to a real data source\nexport const validateUser = (username, password) => {\n    let user = login(username, password);\n    if (user.id)\n        return loginSuccess(user);\n    else return loginFail();\n    // No case for a network error yet\n}\n\n// Note for future: need to handle error from data source\nexport const getUserPreferences = () => {\n    // Gets the current user from the store. Note the store import above.\n    const userId = store.getState().user.search;\n    return {\n        type: POPULATE_SEARCH,\n        payload: {\n            todos: getTodosForUser(userId)\n        }\n    }\n}\n\nexport const toggleTodo = id => {\n    // Gets the current user from the store. Note the store import above.\n    const userId = store.getState().user.id;\n    const updatedTodo = toggleTodoForUser(userId, id);\n    return {\n        type: TOGGLE_TODO,\n        payload: {\n            id: updatedTodo\n        }\n    }\n};\n\nexport const addTodo = text => {\n    // Gets the current user from the store. Note the store import above.\n    const userId = store.getState().user.id;\n    const updatedTodos = addTodoForUser(userId, text);\n    return {\n        type: POPULATE_TODOS, // Can reuse an action type if it fits\n        payload: {\n            todos: updatedTodos\n        }\n    }\n};\n\nexport const completeOnboarding = () => {\n    // Gets the current user from the store. Note the store import above.\n    const userId = store.getState().user.id;\n    userCompletedOnboarding(userId);\n    return {\n        type: COMPLETE_ONBOARDING\n    }\n}\n\nexport const logout = () => ({\n    type: LOGOUT\n});\n\nexport const setPreference = () => ({\n    type: PREFERENCE\n})"]},"metadata":{},"sourceType":"module"}